{% extends "base.html" %}

{% load tickets %}
{% block breadcrums %}
    <li><a href="{% url 'projects-all' %}">Projects</a></li>
    <li><a href="{% url 'projects-detail' project.pk %}">{{ project.name }}</a></li>
    <li>Reports</li>
    <li>Components</li>
{% endblock %}
{% block content %}

<h2>{{ project.name }}</h2>
<table class="report">
    <tr>
        <th colspan="2">&nbsp;</th>
        <th style="width:75px">Total Hours</th>
        <th style="width:75px">Billable Hours</th>
    </tr>
{% for comp in components %}
    <tr>
        <th colspan="2">{{ comp.name }}</th>
        <th>{{ comp.total|tickettimepretty }}</th>
        <th>{{ comp.billable|tickettimepretty }}</th>
    </tr>
    {% for ticket in comp.ticket_set.all %}
        <tr>
            <td>&nbsp;</td>
            <td>{{ ticket.title }}</td>
            <td>{{ ticket.totalTimes.total|tickettimepretty }}</td>
            <td>{{ ticket.totalTimes.billable|tickettimepretty }}</td>
        </tr>
    {% endfor %}
{% endfor %}
</table>

{% endblock %}
